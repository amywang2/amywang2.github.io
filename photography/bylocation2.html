<!doctype html>
<html lang="en">
  <head>
		<link rel="stylesheet" href="/styles.css">
		<link rel="shortcut icon" type="image/jpg" href="/images/logo.jpg">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/openlayers/2.11/lib/OpenLayers.js"></script> 
    <title>Photography</title>
  </head>
  <body>

		<div id="headings">
			<a href="/index.html">HOME</a>
			<a href="/about.html">ABOUT</a>
			<div class="dropdown">
				<button class="dropbtn">GALLERY</button>
				<div class="dropdown-content">
					<a href="/gallery/arttype.html">by type</a>
					<a href="/wip.html">by date</a>

					<!--<a href="/gallery/artdate.html">by date</a>-->
				</div>
			</div>
			<div class="dropdown">
				<button class="dropbtn">PHOTOGRAPHY</button>
				<div class="dropdown-content">
					<a href="/photography/bytype.html">by type</a>
					<a href="/photography/bylocation.html">by location</a>
				</div>
			</div>
		</div>

		<center>
			<h1 class="typetext">PHOTOGRAPHY (LOCATION)</h1>
			<div id="map"></div>
		</center>

		<script>
			map = new OpenLayers.Map("map");
			map.addLayer(new OpenLayers.Layer.OSM());
			
			epsg4326 =  new OpenLayers.Projection("EPSG:4326"); //WGS 1984 projection
			projectTo = map.getProjectionObject(); //The map projection (Spherical Mercator)
		 
			var lonLat = new OpenLayers.LonLat(18.281, 32.547).transform(epsg4326, projectTo);
						
			var zoom=2;
			map.setCenter (lonLat, zoom);

			var vectorLayer = new OpenLayers.Layer.Vector("Overlay");
			
			var feature = new OpenLayers.Feature.Vector(
				new OpenLayers.Geometry.Point(40.436, 116.557).transform(epsg4326, projectTo),
				{description:'Great Wall of China'},
				{externalGraphic: '/images/mapmarker.png', graphicHeight: 25, graphicWidth: 21, graphicXOffset:-12, graphicYOffset:-25}
			);    
			vectorLayer.addFeatures(feature);
			
			map.addLayer(vectorLayer);
	 
			var controls = {
				selector: new OpenLayers.Control.SelectFeature(vectorLayer, { onSelect: createPopup, onUnselect: destroyPopup })
			};

			function createPopup(feature) {
				feature.popup = new OpenLayers.Popup.FramedCloud("pop",
					feature.geometry.getBounds().getCenterLonLat(),
					null,
					'<div class="markerContent">'+feature.attributes.description+'</div>',
					null,
					true,
					function() { controls['selector'].unselectAll(); }
				);
				//feature.popup.closeOnMove = true;
				map.addPopup(feature.popup);
			}

			function destroyPopup(feature) {
				feature.popup.destroy();
				feature.popup = null;
			}
			
			map.addControl(controls['selector']);
			controls['selector'].activate();
				
		</script>
  
</body>
</html>
    
