<!doctype html>
<html lang="en">
  <head>
		<title>Photography</title>
		<link rel="shortcut icon" type="image/jpg" href="/images/logo.jpg">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.3.1/css/ol.css" type="text/css">
		<link rel="stylesheet" href=/styles.css">
    <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.3.1/build/ol.js"></script>
    <title>OpenLayers example</title>
  </head>
  <body>

		<div id="headings">
			<a href="/index.html">HOME</a>
			<a href="/about.html">ABOUT</a>
			<a href="/gallery.html">GALLERY</a>
			<div class="dropdown">
				<button class="dropbtn">PHOTOGRAPHY</button>
				<div class="dropdown-content">
					<a href="/photography/bytype.html">by type</a>
					<a href="/photography/bylocation.html">by location</a>
				</div>
			</div>
		</div>

		<center>
			<h1 class="typehead">PHOTOGRAPHY (LOCATION)</h1>
			<div id="map" class="map"></div>
			<div id="popup" class="ol-popup">
				<a href="#" id="popup-closer" class="ol-popup-closer"></a>
				<div id="popup-content"></div>
			</div>
			<script type="text/javascript">
				var map = new ol.Map({
					target: 'map',
					layers: [
						new ol.layer.Tile({
							source: new ol.source.OSM()
						})
					],
					view: new ol.View({
						center: ol.proj.fromLonLat([32.41, 12.82]),
						zoom: 2
					})
				});

				var layer = new ol.layer.Vector({
					source: new ol.source.Vector({
						features: [
							new ol.Feature({
								geometry: new ol.geom.Point(ol.proj.fromLonLat([4.35, 50.85]))
							})
						],
						style: new ol.style.Style({
							image: new ol.style.Icon({
								src: '/images/mapmarker.png'
							})
						})
					})
				});
				map.addLayer(layer);

				var container = document.getElementById('popup');
				var content = document.getElementById('popup-content');
				var closer = document.getElementById('popup-closer');

				var overlay = new ol.Overlay({
					element: container, 
					autoPan: true,
					autoPanAnimation: {
						duration: 250
					}
				});
				map.addOverlay(overlay);

				closer.onclick = function() {
					overlay.setPosition(undefined);
					closer.blur();
					return false;
				};

			 map.on('singleclick', function (event) {
					 if (map.hasFeatureAtPixel(event.pixel) === true) {
							 var coordinate = event.coordinate;

							 content.innerHTML = '<b>Hello world!</b><br />I am a popup.';
							 overlay.setPosition(coordinate);
					 } else {
							 overlay.setPosition(undefined);
							 closer.blur();
					 }
			 });
			</script>
		</center>
  </body>
</html>
